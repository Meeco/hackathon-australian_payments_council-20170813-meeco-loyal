<ion-header>
    <ion-navbar>
      <ion-title>Loyalty</ion-title>
    </ion-navbar>
  </ion-header>
  
  <ion-content padding>
    <div *ngIf="loading">
      <p>Searching for Loyalty programs...</p>
      <ion-spinner></ion-spinner>
    </div>

    {{message}}
    <ion-list>
      <div *ngFor="let domain of domains$ | async">
        <ion-item *ngIf="domain[1].length > 0" (click)="open(domain[0], domain[1])">
          <b>{{domain[0]}}</b>
          <p><ion-badge item-end>{{domain[1].length}}</ion-badge> offers available</p>
        </ion-item>
      </div>
    </ion-list>
  
  </ion-content>
  